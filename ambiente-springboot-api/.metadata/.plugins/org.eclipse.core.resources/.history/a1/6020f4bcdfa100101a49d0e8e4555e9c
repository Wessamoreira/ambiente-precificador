package com.precificapro.controller.dto;

import com.precificapro.domain.enums.PricingMethod;
import java.math.BigDecimal;

public record SimulationResponseDTO(
        // --- PREÇO E MÉTRICAS PRINCIPAIS ---
        BigDecimal suggestedPrice,          // Preço de Venda Final
        Integer breakEvenUnits,             // Ponto de Equilíbrio em Unidades

        // --- DETALHES DE CUSTOS (BREAKDOWN) ---
        CostBreakdownDTO costBreakdown,

        // --- DETALHES DE LUCRO ---
        ProfitDetailsDTO profitDetails,

        // --- PROJEÇÃO MENSAL ---
        MonthlyProjectionDTO monthlyProjection
) {

    public record CostBreakdownDTO(
            BigDecimal purchaseCost,            // Custo de Compra
            BigDecimal packagingCost,           // Custo da Embalagem
            BigDecimal otherVariableCost,       // Outros Custos Variáveis
            BigDecimal freightCostUnit,         // Custo do Frete por Unidade
            BigDecimal directCostUnit,          // CUSTO DIRETO TOTAL (Soma dos acima)
            BigDecimal indirectCostUnit,        // Custo Indireto (Rateio Fixo)
            BigDecimal totalCostUnit,           // CUSTO TOTAL DA PEÇA (Direto + Indireto)
            BigDecimal feesValue,               // Valor das Taxas (em R$)
            BigDecimal costPlusFees             // Custo Total + Taxas
    ) {}

    public record ProfitDetailsDTO(
            BigDecimal netProfitPerUnit,        // Lucro Líquido por Unidade (em R$)
            BigDecimal netProfitPercentage,     // % de Lucro Líquido sobre o Preço de Venda
            BigDecimal markupOnTotalCost        // % de Markup aplicado sobre o Custo Total
    ) {}

    public record MonthlyProjectionDTO(
            BigDecimal revenue,                 // Faturamento Bruto
            BigDecimal totalDirectCost,         // Custo Direto Total do Mês
            BigDecimal totalIndirectCost,       // Custo Fixo Total do Mês
            BigDecimal totalFees,               // Total de Taxas no Mês
            BigDecimal netProfit                // Lucro Líquido Total do Mês
    ) {}
}